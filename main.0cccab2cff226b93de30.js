(()=>{"use strict";var e,t={398:function(e,t){var r,n=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(t,r,n,a){void 0===a&&(a=0);var o=e.call(this,t,r,n)||this;o.chassis=new Phaser.GameObjects.Sprite(t,0,0,"cars",a),o.wheels=[];for(var s=0;s<2;s++)for(var i=0;i<2;i++){var c=new Phaser.GameObjects.Rectangle(t,18-36*s,23*i-11.5,7,2,0);1==a&&c.setAlpha(0),o.wheels.push(c)}return o.add(o.wheels),o.add(o.chassis),o.setSize(32,21),o.setDepth(2),o.scene.add.existing(o),o.sprite=o.scene.matter.add.gameObject(o),o}return n(t,e),t}(Phaser.GameObjects.Container);t.default=a},41:function(e,t,r){var n,a=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),o=this&&this.__assign||function(){return o=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},o.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){function t(t,r,n){var a=e.call(this,t,r,n)||this,s={angularGrip:.05,grip:.05,powerForward:.02,powerReverse:.002,turnMax:12*Phaser.Math.DEG_TO_RAD,turnRate:10*Phaser.Math.DEG_TO_RAD};return a.setData(o(o({},s),{drag:1-s.grip,angularDrag:1-s.angularGrip,wheelAngle:0})),a}return a(t,e),t.prototype.preUpdate=function(){var e=this.scene.inputs,t=e.left,r=e.right,n=e.accelerator,a=e.breaks,o=this.body,s=o.speed,i=o.position,c=o.positionPrev,l=o.angularVelocity,u=this.getData(["wheelAngle","powerForward","powerReverse","turnMax","turnRate","grip","drag","angularGrip","angularDrag"]),p=u[0],h=u[1],f=u[2],g=u[3],d=u[4],y=u[5],A=u[6],b=u[7],v=u[8],_=a?-s:s,O=n?h:a?-f:0,w=new Phaser.Math.Vector2((i.x-c.x)*A+Math.cos(this.rotation)*(_*y+O),(i.y-c.y)*A+Math.sin(this.rotation)*(_*y+O));this.sprite.setVelocity(w.x,w.y);var P=p,m=l*v;if(t||r){var j=(t?-1:1)*d;m+=.19*Math.sign(Math.floor(_/.3))*(P=Math.min(Math.max(P+j,-g),g))*b}else 0!==P&&(P=Math.sign(P)*Math.min(Math.abs(P)+d,0));this.sprite.setAngularVelocity(m);var x=this.wheels,M=x[0],S=x[1];if(M.setRotation(P),S.setRotation(P),this.setData("wheelAngle",P),Math.abs(l)>.03&&Math.abs(_)>.5){var k=new Phaser.Math.Vector2(i).subtract(new Phaser.Math.Vector2(c)).angle(),D=new Phaser.Math.Vector2(2,0).setAngle(k),C=new Phaser.Math.Vector2(6,0).setAngle(this.rotation),G=new Phaser.Math.Vector2(5,0).setAngle(this.rotation+Math.PI/2),V=new Phaser.Math.Vector2(this).subtract(G).subtract(C),R=new Phaser.Math.Vector2(this).add(G).subtract(C);this.scene.road.strokeLineShape(new Phaser.Geom.Line(V.x-D.x,V.y-D.y,V.x+D.x,V.y+D.y)),this.scene.road.strokeLineShape(new Phaser.Geom.Line(R.x-D.x,R.y-D.y,R.x+D.x,R.y+D.y))}},t}(r(398).default);t.default=s},762:function(e,t,r){var n,a=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t,r,n){return e.call(this,t,r,n,1)||this}return a(t,e),t}(r(398).default);t.default=o},745:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CarPlayer=t.CarStatic=t.CarContainer=void 0;var n=r(398);Object.defineProperty(t,"CarContainer",{enumerable:!0,get:function(){return n.default}});var a=r(762);Object.defineProperty(t,"CarStatic",{enumerable:!0,get:function(){return a.default}});var o=r(41);Object.defineProperty(t,"CarPlayer",{enumerable:!0,get:function(){return o.default}})},206:(e,t,r)=>{r(260);var n=r(363),a={type:Phaser.AUTO,width:2560,height:2240,zoom:2,input:{keyboard:!0,gamepad:!0},render:{pixelArt:!0},physics:{default:"matter",matter:{debug:!1,gravity:{y:0}}},scene:[n.LoaderScene,n.GameScene]};new Phaser.Game(a)},360:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){this.scene=e,this.keys=this.scene.input.keyboard.addKeys("W,A,S,D,up,left,down,right")}return Object.defineProperty(e.prototype,"accelerator",{get:function(){return this.keys.up.isDown||this.keys.W.isDown||this.padA},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"breaks",{get:function(){return this.keys.down.isDown||this.keys.S.isDown||this.padB},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){return this.keys.left.isDown||this.keys.A.isDown||-1===this.padAxisH},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){return this.keys.right.isDown||this.keys.D.isDown||1===this.padAxisH},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"padA",{get:function(){return this.padButtons.some((function(e){return e.index%2==0&&1===e.value}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"padB",{get:function(){return this.padButtons.some((function(e){return e.index%2==1&&1===e.value}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"padAxisH",{get:function(){return this.pad?this.pad.axes[0].getValue():0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"padAxisV",{get:function(){if(this.pad){var e=this.pad.axes;return e[0],e[1].getValue()}return 0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"padButtons",{get:function(){var e;return(null===(e=this.pad)||void 0===e?void 0:e.buttons)||[]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pad",{get:function(){var e=this.scene.input.gamepad;if(e.gamepads.length)return e.gamepads[0]},enumerable:!1,configurable:!0}),e}();t.default=r},751:function(e,t,r){var n,a=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},n(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o=r(360),s=r(745),i=function(e){function t(){return e.call(this,{key:"game",active:!1,visible:!1})||this}return a(t,e),t.prototype.init=function(){this.inputs=new o.default(this)},t.prototype.create=function(){var e=this.add.image(0,0,"bg").setOrigin(0,0),t=e.width,r=e.height,n=new s.CarPlayer(this,t/2,r-10).setAngle(-90);this.cameras.main.setBounds(0,0,t,r),this.cameras.main.startFollow(n,!0),this.matter.world.setBounds(32,32,t-64,r-64),this.road=new Phaser.GameObjects.Graphics(this),this.road.lineStyle(1,3355443),this.road.setDepth(1),this.add.existing(this.road);var a=this.add.group({classType:s.CarStatic});a.create(660,555).setAngle(-80),a.create(660,555).setAngle(-80),a.create(520,555).setAngle(-80),a.create(520,555).setAngle(-80),a.create(520,525).setAngle(-80),a.create(520,525).setAngle(-80),a.create(660,525).setAngle(-80),a.create(660,525).setAngle(-80),a.create(520,500).setAngle(-80),a.create(520,500).setAngle(-80),a.create(660,500).setAngle(-80),a.create(660,500).setAngle(-80),a.create(520,460).setAngle(-80),a.create(520,460).setAngle(-80),a.create(660,460).setAngle(-80),a.create(660,460).setAngle(-80),a.create(520,410).setAngle(-80),a.create(520,410).setAngle(-80),a.create(660,410).setAngle(-80),a.create(660,410).setAngle(-80),a.create(520,360).setAngle(-80),a.create(520,360).setAngle(-80),a.create(660,360).setAngle(-80),a.create(660,360).setAngle(-80),a.create(520,360).setAngle(-80),a.create(520,360).setAngle(-80),a.create(660,360).setAngle(-80),a.create(660,360).setAngle(-80),a.create(520,310).setAngle(-80),a.create(520,310).setAngle(-80),a.create(520,270).setAngle(-80),a.create(520,270).setAngle(-80),a.create(750,360).setAngle(-80),a.create(750,360).setAngle(-80),a.create(820,360).setAngle(-80),a.create(820,360).setAngle(-80),a.create(890,360).setAngle(-80),a.create(890,360).setAngle(-80),a.create(940,360).setAngle(-80),a.create(940,360).setAngle(-80),a.create(980,360).setAngle(-80),a.create(980,360).setAngle(-80),a.create(1020,360).setAngle(-80),a.create(1020,360).setAngle(-80),a.create(1060,360).setAngle(-80),a.create(1060,360).setAngle(-80),a.create(1100,360).setAngle(-80),a.create(1100,360).setAngle(-80),a.create(550,250).setAngle(-80),a.create(550,250).setAngle(-80),a.create(590,250).setAngle(-80),a.create(590,250).setAngle(-80),a.create(630,250).setAngle(-80),a.create(630,250).setAngle(-80),a.create(680,250).setAngle(-80),a.create(680,250).setAngle(-80),a.create(760,250).setAngle(-80),a.create(760,250).setAngle(-80),a.create(790,250).setAngle(-80),a.create(790,250).setAngle(-80),a.create(830,250).setAngle(-80),a.create(830,250).setAngle(-80),a.create(860,250).setAngle(-80),a.create(860,250).setAngle(-80),a.create(900,250).setAngle(-80),a.create(900,250).setAngle(-80),a.create(930,250).setAngle(-80),a.create(930,250).setAngle(-80),a.create(970,250).setAngle(-80),a.create(970,250).setAngle(-80),a.create(1e3,250).setAngle(-80),a.create(1e3,250).setAngle(-80)},t}(Phaser.Scene);t.default=i},859:function(e,t){var r,n=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t.prototype.preload=function(){this.load.image("bg","./assets/bg.png"),this.load.spritesheet("cars","./assets/cars.png",{frameWidth:60,frameHeight:60})},t.prototype.create=function(){this.scene.start("game")},t}(Phaser.Scene);t.default=a},363:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.GameScene=t.LoaderScene=void 0;var n=r(859);Object.defineProperty(t,"LoaderScene",{enumerable:!0,get:function(){return n.default}});var a=r(751);Object.defineProperty(t,"GameScene",{enumerable:!0,get:function(){return a.default}})}},r={};function n(e){var a=r[e];if(void 0!==a)return a.exports;var o=r[e]={exports:{}};return t[e].call(o.exports,o,o.exports,n),o.exports}n.m=t,e=[],n.O=(t,r,a,o)=>{if(!r){var s=1/0;for(u=0;u<e.length;u++){for(var[r,a,o]=e[u],i=!0,c=0;c<r.length;c++)(!1&o||s>=o)&&Object.keys(n.O).every((e=>n.O[e](r[c])))?r.splice(c--,1):(i=!1,o<s&&(s=o));if(i){e.splice(u--,1);var l=a();void 0!==l&&(t=l)}}return t}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[r,a,o]},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={179:0};n.O.j=t=>0===e[t];var t=(t,r)=>{var a,o,[s,i,c]=r,l=0;if(s.some((t=>0!==e[t]))){for(a in i)n.o(i,a)&&(n.m[a]=i[a]);if(c)var u=c(n)}for(t&&t(r);l<s.length;l++)o=s[l],n.o(e,o)&&e[o]&&e[o][0](),e[s[l]]=0;return n.O(u)},r=self.webpackChunkphaser_cars=self.webpackChunkphaser_cars||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var a=n.O(void 0,[426],(()=>n(206)));a=n.O(a)})();